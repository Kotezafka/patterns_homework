# patterns_homework

## 1. Запуск программы

python3 -m venv venv

source venv/bin/activate

pip install -r requirements.txt

python3 main.py<br /><br />

## 2. Структура проекта после рефакторинга
    my_project/
    ├── main.py
    └── converters/
        ├── __init__.py
        ├── currency_converter.py
        ├── exchange_service.py
        └── converters/
            ├── usd_eur_converter.py
            ├── usd_gbp_converter.py
            ├── usd_rub_converter.py
            └── usd_cny_converter.py 

<br />

## 3. Обзор изменений

### Нарушения паттернов проектирования
Было:

- Каждый конвертер самостоятельно получал курсы валют, дублируя логику запросов

- Отсутствовало единое управление получением курсов валют

- Нарушение принципа единственной ответственности (SRP)

Стало:

- Введен паттерн Стратегия (Strategy) - каждый конвертер реализует общий интерфейс CurrencyConverter

- Реализован паттерн Фасад (Facade) через ExchangeRateService, который инкапсулирует логику работы с API <br /> <br />



### Нарушения принципов DRY, KISS и YAGNI
__DRY:__

- Устранено дублирование кода запросов к API в каждом конвертере

- Общая логика кеширования и повторных попыток вынесена в ExchangeRateService

- Удалены повторяющиеся методы-заглушки в конвертерах

__KISS:__

- Упрощена структура конвертеров - теперь каждый отвечает только за одну валюту

- Упрощен интерфейс CurrencyConverter до двух обязательных методов

- Удалена избыточная сложность с ненужными абстракциями

__YAGNI:__

- Удалены неиспользуемые методы конвертации в других валютах

- Упрощена иерархия классов, оставлено только необходимое

- Удалены избыточные параметры и настройки, не используемые в текущей реализации <br /> <br />



### Нарушения принципов SOLID
__Single Responsibility Principle (SRP):__

- ExchangeRateService отвечает только за получение курсов валют

- Каждый конвертер отвечает только за конвертацию в одну конкретную валюту

- Логирование вынесено в отдельный компонент

__Open-Closed Principle (OCP):__

- Система открыта для расширения (можно добавить новые конвертеры)

- Закрыта для модификации (не нужно изменять существующий код для добавления новых валют)

__Liskov Substitution Principle (LSP):__

- Все конвертеры реализуют единый интерфейс и могут взаимозаменяться

- Поведение подклассов предсказуемо и соответствует ожиданиям

__Interface Segregation Principle (ISP):__

- Интерфейс CurrencyConverter содержит только необходимые методы

- Клиенты не зависят от методов, которые они не используют

__Dependency Inversion Principle (DIP):__

- Конвертеры зависят от абстракции ExchangeRateService, а не от конкретной реализации

- Упрощено тестирование за счет возможности подмены сервиса <br /> <br />



### Нарушения принципов "чистого кода"
__Улучшена читаемость за счет:__

- Четких имен классов и методов

- Типизации

- Удаления "магических строк"

- Последовательного стиля кодирования

__Улучшена структура проекта:__

- Логическая группировка файлов

- Четкое разделение ответственности

- Упрощенный импорт модулей

__Добавлена обработка ошибок:__

- Централизованная обработка в main.py

- Информативные сообщения об ошибках